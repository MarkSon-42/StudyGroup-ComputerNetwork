# 4주차 질문리스트

### 1. OSI 계층에서 네트워크 계층의 역할에 대해 설명해주세요

주로 데이터 전송 시 출발지-목적지 간 경로 설정과 패킷을 라우터와 같은 다음 네트워크로의 전송을 담당합니다. 또한 IP 주소와 같은 논리적 주소를 지정하여 장치 간 통신이 가능하도록 하는 역할도 합니다.

### 2. DNS가 무엇인지 아는대로 설명해주세요

전화번호부를 생각해보면 우리는 전화번호를 직접 기억할 필요가 없이 우리가 저장한 이름만 기억하고 있으면 해당 전화번호로 전화를 할 수 있습니다. DNS는 이와 같이 도메인 이름만 알고 있으면 해당 컴퓨터의 IP주소를 알지 못하더라도 해당 IP 주소로 접근할 수 있도록 하는 시스템이라고 할 수 있습니다.

### 3. TCP와 UDP 각각의 개념과 차이점에 대해 설명해주세요

TCP와 UDP 모두 OSI 계층 중 트랜스 포트 계층에 존재하여 프로세스 간에 통신할 수 있도록 도와주는 프로토콜이다.

**TCP** : TCP는 데이터를 전송하기 전에 사전에 커넥션을 맺고 그 위에서 데이터를 주고받기 때문에 신뢰성을 보장할 수 있습니다. 신뢰성을 보장하기 위해 흐름 제어, 혼잡 제어, 오류 검출 등의 기능 또한 보유하고 있습니다. 하지만 여러가지 기능을 포함하기 때문에 UDP에 비해 통신 속도가 느리다는 단점이 있습니다.

**UDP** : UDP는 사전에 커넥션을 맺는 과정 등이 없어 신뢰성을 보장하지 않는다는 단점이 존재합니다. 

대신에 TCP와 같이 부가적인 기능들이 존재하지 않고 데이터 전송만 하므로 속도가 상대적으로 빠르다는 장점이 있습니다.

### 4. TCP가 어떻게 신뢰성을 보장할 수 있는지 설명해주세요

**1. 에러 발생에 대한 방지**

1. **sender**가 **receiver**에게 패킷을 보내면, **receiver**는 해당 패킷이 에러나 손실이 없는지 확인한다.
2. 문제가 없다면 올바른 패킷이라고 그대로 **수용**하겠다고 **sender**에게 피드백을 준다.
3. 만약 에러 또는 문제가 있다면 **sender**에게 **negative** 피드백을 준다.
4. **sender**는 문제가 있다는 피드백을 받고 데이터를 재송신한다.

**2. 손실에 대한 방지**

**Sender**는 패킷을 보내고나서 일정 시간동안 기다린다. 이 때 기다리는 시간을 **Timer**가 잰다. **Receiver**의 피드백이 너무 늦게 오면 **Sender**는 패킷의 데이터가 손실될 수도 있다고 판단한다. 그리고 패킷을 재전송한다.

이 때 Sequence Number는 기존과 같도록 보냄!

그런데, 문제가 하나 발생한다. **receiver** 입장에서는 패킷을 재송신하더라도, 이게 loss 방지를 위해 보낸 **중복**되었던 **패킷**인지, 에러가 발생해서 새로보낸 **새 패킷**인지 구별을 할 수 있어야한다.

이를 구별하기 위해, **sender**는 각 패킷에 **sequence number**라는걸 함께 보내준다고 한다.

그 **sequence number**를 보고 **reciver**는 중복된 패킷이라면 그대로 버린다. 이로써 새롭게 송신된 패킷들만이 전달되게 될 것이다.

### 5. 라우터란 무엇이고 라우터가 하는 일 크게 두 가지에 대해 설명해주세요

라우터는 서로 다른 네트워크 간에 데이터 패킷을 전달하는 역할을 하는 네트워크 장치입니다.

라우터는 크게 포워딩과 라우팅이라는 일을 한다.

**포워딩** : 라우터에는 포워딩 테이블이 존재한다. 포워딩 테이블은 각 목적지를 보고 어떤 곳으로 보내줄지 말해주는 테이블. 포워딩 테이블을 보고 패킷을 해당하는 인터페이스로 그대로 전달해주는 것을 말한다.

**라우팅** : 포워딩 테이블을 만들어주는 것을 말한다.

### 6. 라우팅 알고리즘 2가지가 무엇이 존재하는지, 각각에 대해 아는대로 설명해주세요

크게 두가지 Distance Vector 알고리즘과 Link State 알고리즘이 있습니다. 각 라우터가 인접한 라우터로부터 거리(또는 비용) 정보를 받아, 자신이 알고 있는 최단 경로를 업데이트하는 방식으로 동작합니다. 

Link State 알고리즘은 네트워크의 전체 상태 정보를 이용해 최단경로를 미리 계산해서 동작합니다. 주로 다익스트라 알고리즘과 같은 최단 경로 알고리즘을 사용하여 계산하고, 장점으로는 

### 7. IP 주소와 MAC 주소의 차이점에 대해 말씀해주세요

IP 주소는 네트워크에서 장치를 식별하기 위한 논리적 주소이며, MAC 주소는 네트워크 인터페이스 카드(NIC)에 할당된 물리적 주소입니다. IP 주소는 네트워크 계층에서 사용되고, MAC 주소는 데이터 링크 계층에서 사용됩니다. 

일반적으로 더 빠르고 안정적인 수렴을 보장하며, 네트워크 변화에 신속하게 대응할 수 있습니다. 그러나 각 라우터가 전체 네트워크 정보를 저장하고 있어야 하므로, 메모리와 계산 능력의 요구가 높아질 수 있습니다.

### 8. Mac 프로토콜에 대해서 아는대로 설명해주세요

MAC 프로토콜은 네트워크에서 여러 장치가 동일한 전송 매체를 공유할 때, 충돌 없이 데이터를 전송할 수 있도록 제어하는 역할을 합니다. 주로 주소 지정, 충돌 관리, 매체 접근 제어등의 역할을 합니다.

### 9. OSI 7계층 중 링크 계층의 역할에 대해 설명해주세요

OSI 7계층 모델에서 **링크 계층**(또는 데이터 링크 계층)은 두 번째 계층(Level 2)으로, 네트워크를 통해 데이터를 안전하고 신뢰성 있게 전달하는 데 중요한 역할을 합니다. 링크 계층은 물리 계층과 네트워크 계층 사이에 위치하며, 주로 같은 네트워크 또는 동일한 물리적 매체를 공유하는 장치 간의 통신을 담당합니다. 주요 프로토콜로는 wi-fi가 있습니다.

### 10. NAT에 대해 아는대로 설명해주세요

32비트 주소 체계의 IP주소만으로는 현존하는 모든 IP 주소를 대변하기에는 무리가 따르는 시점이 왔었습니다. 이 때 특정 범위의 지역에서 대표되는 하나의 IP 주소를 가지도록하고 그 주변의 장치들은 외부적으로 알려지는 IP와 다른 별도의 IP를 가지도록 하여, 외부와의 통신은 대표 IP 주소로 통하도록하고, 나머지는 내부 IP주소로 통신하도록 하여 IP 주소의 양을 절약할 수 있는 방식입니다.

단점으로는 복잡도가 올라갈 수 있고, 주소 변환과정에서 약간의 지연으로인한 성능 이슈가 발생할 수 있습니다.

### 11. DHCP의 개념에 대해 설명해주세요

DHCP는 IP 주소를 동적으로 할당하는 개념으로 사용 중이면 IP 주소를 제공해주고, 사용이 끝나면 다시 반환을 받도록 하여 IP 주소 자원을 보다 효율적으로 이용할 수 있도록 해준다. 

하지만 단점으로는 IP 주소를 전체적으로 관리해주는 DHCP 서버에 문제가 생기면 전체 네트워크에 영향을 줄 수 있다는 단점이 존재합니다.

### 12. TCP의 3WAY HansSwake에 대해 설명해주세요

3-way handshake는 TCP 연결을 설정하는 과정으로, 클라이언트와 서버 간에 신뢰성 있는 연결을 수립하기 위해 사용되는 방법입니다. 

첫번째로 클라이언트 쪽에서 SYN 패킷을 전송하면서 연결을 요청하고, 

둘째로 서버도 요청을 확인 후 클라이언트에게 연결을 요청합니다. 

셋째로 클라이언트가 다시 서버의 요청도 정상적으로 받았음을 확인하는 ACK를 보내어 양방향 통신이 가능한 커넥션이 형성되게 됩니다.

### 13. Port의 개념에 대해 설명해주세요

Port란 서로 다른 네트워크 내의 프로세스 간의 통신을 위해 프로세스에서 하위 계층으로 데이터를 내려주거나 받아야하는데, 이때 사용되는 하나의 통로라고 할 수 있다. port name을 통해 식별하며,인터넷 상에서는 port를 port number로 사용한다. 이는 16 비트로 이루어진 숫자이다.

### 14. 소켓의 개념에 대해 설명해주세요

port는 16비트만으로 이루어진 그렇게 크지 않은 숫자이다. 따라서 인터넷 상의 모든 port를 유니크하게 식별하기에는 부족하다. 

따라서 소켓의 개념이 등장하게 되는데, ip 주소로 각 host를 유니크하게 식별할 수 있고, 이 호스트 내에 존재하는 프로세스들을 port number를 각각 할당하여 port를 이제는 유니크하게 식별할 수 있게 된다. 

이 때, ip + port number를 합쳐서 소켓이라고 부른다. 그리고 UDP에서도 소켓의 개념을 사용하게되면서 protocol, ip 주소, port number로 포트를 유일하게 식별할 수 있다.

### 15. 사용자가 웹 브라우저의 주소창에 naver를 검색했을 때 어떤 일들이 벌어지는지 아는대로 설명해주세요

1. DNS 조회
    - 브라우저는 입력된 네이버의 IP 주소를 찾기 위해 DNS 조회를 시작합니다.
    - 그리고 이를 통해 네이버의 IP 주소를 얻습니다.
2. TCP 연결 설정
    - 브라우저는 얻은 IP주소로 TCP 연결을 시도합니다.
    - 이 때 TCP 3-way handshake 과정을 통해 연결이 설정됩니다.
3. HTTP 요청 전송
    - 연결이 설정되면 브라우저는 HTTP GET 요청을 서버로 보냅니다.
4. 서버 처리
    - 네이버 서버는 요청을 받고 처리합니다.
    - 요청된 웹 페이지를 생성하거나 캐시된 버전을 준비하고 HTTP 응답으로 브라우저에 전송합니다.
5. 브라우저 렌더링
    - 브라우저는 받은 HTML을 파싱하여 DOM을 생성합니다.
    - CSS를 적용하고 JavaScript를 실행합니다.
    - 페이지의 레이아웃을 계산해서 화면에 그립니다.
    - 페이지에 포함된 이미지 등 추가 리소스를 로드합니다.
    - 각 리소스에 대해 2~8단계가 반복됩니다.
6. 모든 리소스가 로드되고 처리되면 완성된 네이버 홈페이지가 사용자에게 표시됩니다.