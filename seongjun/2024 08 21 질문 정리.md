# 2024 08 21 질문 정리

# 1. TCP란?

신뢰성있는 네트워크 연결을 위한 방식이다.

unreliable network환경에서 reliable network를 보장하도록 하는 프로토콜이다.

# 2. TCP에서 어떻게 reliable network를 보장하나요?

자신이 보낸 데이터에 대한 응답을 받아야 정상적으로 통신이 이루어졌다고 판단을 하는데, 이 응답 패킷을 받지 못한다면 패킷이 유실되었다고 판단하여 데이터를 재전송합니다.

이를 통해 tcp는 packet loss 등의 문제 상황에서도 신뢰성을 보장할 수 있습니다.

# 3. TCP의 문제점은 무엇인가요?

UDP보다 속도가 느리다.

tcp에서는 흐름제어를 지원하는데, 이 때문에 ack를 받기 전까지 데이터를 다시 전송할 수 없습니다. 즉, ack를 받는 동안에는 데이터를 전송하지 못하는 문제가 발생합니다.

# 4. 흐름 제어가 무엇인가요?

flow control

sender와 receiver의 데이터 처리 속도 차이를 해결하기 위한 방법으로, receiver의 속도에 맞춰 sender가 데이터 전송 속도를 조절하는 방식입니다.

# 5. 그렇다면 어떻게 흐름 제어를 실현하나요?

stop and wait, sliding window

매번 전송한 패킷에 대해 응답을 받는 stop and wait 방식을 통해 실현할 수 있으며, 또는 sliding window를 설정해 일정 크기만큼 패킷을 전송하고, ack를 받지 못한 지점의 데이터부터 다시 재전송하는 방식을 통해 흐름 제어를 실현합니다.

# 6. TCP와 UDP의 차이점은 무엇인가요?

UDP는 데이터를 재전송하거나, 수신을 확인하는 과정이 없기에 TCP보다 속도가 빠릅니다.

하지만 이는, TCP는 재전송, 수신 확인 과정 등을 통해 신뢰성있는 데이터 전송을 보장하지만, UDP는 신뢰성을 보장할 수 없습니다.

# 7. 그렇다면 TCP와 UDP가 각각 어떤 상황에서 사용되는 것이 좋을까요?

UDP의 경우 게임이나 스트리밍 서비스를 사용하는 경우에 적절합니다. 그 이유는 몇몇개의 패킷이 손실된다 하더라도 전체 연결에는 큰 영향을 줄 수 없는 분야이기 때문입니다. 만약 이러한 분야에 TCP를 사용한다면 딜레이가 발생할 경우 사용자에게 불편함을 초래하게 됩니다.

반대로 이메일, 웹 브라우징, 파일 전송 등 정적인 동작이나 반드시 유실이 없어야 하는 동작을 수행할때는 TCP를 사용하는 것이 적절합니다.

# 8. DNS란 무엇인가요?

DNS란 사람이 인식하기 편한 도메인 이름을 컴퓨터가 네트워크에서 서로를 식별하는데 유용한 IP주소로 변환하는 인터넷 표준 프로토콜 구성 요소입니다.

즉, DNS 덕분에 사용자가 특정 웹페이지로 이동하기 위해 127.0.0.1 등의 IP주소를 외우는 것이 아닌, [WWW.NAVER.COM](http://WWW.NAVER.COM) 등의 도메인을 외움으로써 더욱 편하게 사용할 수 있습니다.

# 9. 3-way handshake를 설명해주세요.

TCP에서는 신뢰성을 보장하는데, 이를 위해서 연결 전에 확인 과정이 필요합니다. 이것이 바로 3-way handshake입니다.

1. 클라이언트가 서버에게 syn packet을 전송합니다.
2. 서버는 syn packet을 받고, 클라이언트에게 ack와 syn packet을 보냅니다.
3. 클라이언트는 ack와 syn packet을 받고, 이에 대한 ack를 서버로 전송합니다.

세 과정이 완료되면 연결이 시작됩니다.

# 10. http와 https의 차이를 설명해주세요.

http는 서버와 클라이언트가 데이터를 주고받기 위한 프로토콜입니다.

암호화되지 않는 평문 데이터를 전송하는 프로토콜이므로, 이를 통해 비밀 번호 등 개인 정보를 제 3자가 조회할 수 있습니다.

이를 해결하기 위해 http에 암호화가 추가된 프로토콜이 https 입니다. 기존 80 포트를 사용하던 http와 달리 443 포트를 사용하며, 암호화가 지원되는 덕분에 제 3자가 정보를 볼 수 없습니다.

# 11. 그렇다면 https는 어떻게 암호화를 지원하나요?

대칭키 암호화와 비대칭키 암호화 방식이 있습니다.

대칭키 암호화는 클라이언트와 서버가 동일한 키를 사용해 암호화 및 복호화를 수행합니다.

이는 키가 노출될 경우 위험하지만, 연산이 빠르다는 장점이 있습니다.

비대칭키 암호화는 1개의 쌍으로 구성된 공개키와 개인키를 통해 암호화 및 복호화를 수행합니다.

덕분에 키가 노출되어도 비교적 안전하지만, 속도가 느립니다.

# 12. socket은 무엇인가요?

프로그램이 네트워크에서 데이터를 주고받도록 연결할 수 있게 만들어진 연결부라고 할 수 있습니다. 즉, 두 호스트를 연결해주는 도구로써 인터페이스 역할을 합니다.

소켓은 프로토콜, ip 주소, 포트 넘버로 정의되며, 프로세스가 데이터를 주고 받기 위해선 소켓을 통해 보내거나 받아야 합니다.

# 13. socket의 종류에 대해서 설명해주세요.

socket의 종류로는 stream과 datagram이 있습니다.

stream은 tcp 기반이며, 그에 따라 신뢰성이 보장됩니다. 하지만 이는 속도가 느리고 오버헤드가 발생한다는 것을 의미하기도 합니다.

따라서, 대량의 데이터를 전송해야 하는 경우 적합합니다.

datagram의 경우 udp 기반이기에 신뢰성이 보장되지 않습니다. 손실이 발생해도 이에 대한 에러나 수정이 발생하지 않습니다.

따라서 전화 같은 멀티미디어 정보를 처리하기 위해 사용되는 것이 적합합니다.

# 14. http is stateless 라는 말에 대해서 설명해주세요.

먼저 stateful은 서버가 클라이언트의 이전 상태 정보를 보존한다는 것입니다. 즉, stateless는 반대로 서버가 클라이언트의 이전 상태를 보존하지 않는다는 것입니다.

때문에, http is stateless 라는 말은 서버가 클라이언트의 상태를 저장하지 않는다는 것입니다.

이를 통해 서버에 문제가 생기더라도 교체가 용이하며, 클라이언트 증가에 따른 서버 추가도 용이합니다.

# 15. reliable date transfer protocol에 대해서 설명해주세요.

유실되는 데이터 없이 신뢰성이 보장되며 전송되는 프로토콜입니다.

packet error, packet loss 크게 이 두 가지 문제가 발생하는데, 이를 잘 handling하여 신뢰성을 보장합니다.

먼저, packet에 checksum bit를 추가하여 packet error가 발생하는지 확인합니다. 만약 문제가 발생했다면, feedback을 보내고, 이에 따라 sender는 패킷을 재전송합니다.

packet loss를 해결하기 위해선, timer를 도입합니다.

일정 시간 내에 receiver로부터 반응이 오지 않는다면, packet loss로 판단하고 데이터를 재전송합니다.

# 16. pipelined protocol은 무엇인가요?

기존 reliable data transfer protocol의 경우, 데이터를 하나 보내고 나면 그에 대한 응답이 돌아올 때까지 기다려야만 하는 비효율이 발생합니다.

이를 보완한 것이 바로 pipelined protocol입니다.

한 번에 한 개의 데이터를 보내고 기다리는 방식이 아닌, 일정량의 데이터를 한 번에 보내 효율을 높인 방식입니다.

# 17. 웹 서버는 왜 공통된 port를 사용하나요?

각 도메인마다 주소가 다른데, port 번호까지 다르다면 이를 식별하기 위해 복잡한 과정이 요구됩니다.

따라서, 공통된 port를 사용함으로써 클라이언트와 서버 간 통신을 간편히  할 수 있습니다.

# 18. multiplexing과 demultiplexing에 대해서 설명해주세요.

multiplexing은 하위 계층에서 상위 계층으로 데이터를 넘겨줄 때, 상위 계층이 받을 수 있는 사이즈에 맞게 데이터를 모아주는 것입니다.

demultiplexing은 반대로, 상위 계층에서 하위 계층으로 데이터를 전달할 때 하위 계층이 받을 수 있는 크기에 맞게 데이터를 분할하여 전달하는 것입니다.

# 19. tcp 연결에서 packet loss가 발생한다면, loss가 일어난 라우터부터 다시 데이터를 전송하나요?

아니요. 첫 라우터부터 데이터를 재전송합니다.

양 끝단 라우터를 제외한 중간 라우터의 경우 dumb core로, 전달하느 역할만 합니다.

엣지에서 loss tracking을 하고 재전송을 하게 됩니다.

# 20. ipv4는 약 40억개 정도 주소를 가지는데, 어떻게 지금도 이를 사용할 수 있나요?

라우터에서 여러 기기가 동일한 공용 ip 주소를 공유하게 하는 NAT 기술을 통해 주소가 부족한 문제를 해결하고 있습니다.

패킷이 외부로 나갈 때 라우터가 내부 ip 주소와 포트 번호를 외부 ip 주소와 새로운 포트로 변환하고, 외부에서 들어오는 패킷은 원래의 내부 ip주소와 포트번호로 다시 변환해줍니다.

# 21. DHCP란 무엇인가요?

ip를 필요로 하는 컴퓨터에게 자동으로 할당하고, 사용하지 않으면 반환받아 다른 컴퓨터에게 할당하는 방식입니다.

호스트의 기본 설정을 클라이언트에게 자동적으로 제공해주어 서버 주소, ip 주소, 게이트웨이 주소를 할당하여 일정 기간 임대를 해준다고 보면 됩니다.

# 22. 서브넷이란 무엇인가요?

네트워크 내부의 네트워크로, 하나의 네트워크가 분할되어 나눠진 작은 네트워크입니다.

데이터 패킷이 전송되는 과정에서 비효율적인 경로로 전달되지 않도록 불필요한 라우터를 통과하지 않게 하여 더 짧은 거리를 이동하도록 합니다.

# 23. 그럼 서브넷 마스크는 무엇인가요?

ip주소를 네트워크와 호스트 부분으로 나누는 역할을 하는 32비트 숫자입니다.

ip주소로 네트워크와 호스트를 식별하는데, 이를 논리적으로 분리하여 ip 주소 공간을 서브넷으로 나누는 것이 서브넷 마스크입니다.

예를 들어, 192.168.1.1이 ip주소이고, 255.255.255.0 이 서브넷 마스크라면, 192.168.1.0이 네트워크 주소, 마지막 1이 호스트 주소입니다.

# 24. port의 역할은 무엇인가요?

네트워크 통신을 원하는 프로세스가 데이터를 주고받기 위한 통로의 역할을 합니다.

각 프로세스는 고유한 포트 번호를 사용해, 여러 프로세스가 동시에 통신할 수 있습니다.

# 25. MAC protocol은 무엇인가요?

링크에 다수의 사용자가 몰려있을 때, 접속을 관리하는 방법이 바로 mac protocol입니다.

mac protocol을 통해 관리하는 방법으로는 크게 3가지가 있습니다.

채널을 잘게 쪼개 여러 sub channel로 만든 뒤 여러 사용자에게 할당하는 channel partitioning,

사용자가 랜덤하게 접속할 것이라 가정하여, 누군가가 사용을 시도하면 처리하는 random access,

사용자가 번갈아가며 데이터를 보내게끔 하는 taking turns 방식이 있습니다.